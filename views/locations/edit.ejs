<% layout("./layout/boilerplate") -%>
<h1 class="display-4 text-center mb-3">Edit location</h1>
<form
  action="/locations/<%=location._id%>?_method=PATCH"
  method="post"
  class="form"
  id="myForm"
>
  <div class="mb-3 form-check form-switch">
    <label for="hasTravelled" class="form-check-label">Past travel</label>
    <input role="switch" type="checkbox" name="location[hasTravelled]"
    class="form-check-input" id="hasTravelled"
    <%=(location.hasTravelled==true)?"checked":"" %> />
  </div>
  <div class="mb-3">
    <label for="title" class="form-label">Title of the location</label>
    <input
      type="text"
      name="location[title]"
      id="title"
      placeholder="Title"
      class="form-control"
      value="<%=location.title  %>"
    />
  </div>
  <div class="d-flex align-items-center justify-content-between">
    <div class="form-group mb-3 flex-grow-1">
      <label for="city" class="form-label">City</label>
      <input
        type="text"
        name="location[city]"
        id="city"
        placeholder="City"
        class="form-control"
        value="<%=location.city  %>"
      />
    </div>
    <div class="form-group mb-3 flex-grow-1 ms-sm-3">
      <label for="state" class="form-label">State</label>
      <input
        type="text"
        name="location[state]"
        id="state"
        placeholder="State"
        class="form-control"
        value="<%=location.state %>"
      />
    </div>
    <div class="form-group mb-3 flex-grow-1 ms-sm-3">
      <label for="country" class="form-label">Country</label>
      <input
        type="text"
        name="location[country]"
        id="country"
        class="form-control"
        placeholder="Country"
        value="<%=location.country  %>"
      />
    </div>
  </div>

  <div class="mb-3">
    <label for="dateOfVisit" class="form-label">Date of Visit</label>
    <input
      type="date"
      name="location[dateOfVisit]"
      id="dateOfVisit"
      class="form-control"
      value="<%=dateInHTMLFormat  %>"
    />
  </div>
  <div class="mb-3">
    <label for="description" class="form-label">Description</label>
    <textarea
      name="location[description]"
      id="description"
      rows="4"
      cols="30"
      class="form-control"
    >
<%=location.description  %></textarea
    >
  </div>
  <div class="mb-3">
    <label for="rating" class="form-label">Rating</label>
    <input
      type="number"
      name="location[rating]"
      id="rating"
      class="form-control"
      value="<%=location.rating  %>"
    />
  </div>

  <div class="mb-3 d-flex align-items-center justify-content-center">
    <button
      type="Submit"
      class="btn btn-lg btn-primary btnNew me-2 flex-grow-1"
    >
      Submit
    </button>
    <button
      type="reset"
      id="clearBtn"
      onclick="clearForm()"
      class="btn btn-lg btn-secondary btnNew flex-grow-1"
    >
      Clear
    </button>
  </div>
</form>
<script>
  function clearForm() {
    document.getElementById("myForm").reset();
  }
</script>
